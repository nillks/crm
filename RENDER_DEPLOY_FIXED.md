# üöÄ –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ –ù–ê RENDER

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: PostgreSQL –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ Blueprint

Render –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `render.yaml`. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –µ—ë –≤—Ä—É—á–Ω—É—é.

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–°–ù–ê–ß–ê–õ–ê!)

1. –í Render Dashboard –Ω–∞–∂–º–∏—Ç–µ **"New +"** ‚Üí **"PostgreSQL"**
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Name:** `crm-database`
   - **Database:** `crm_db`
   - **User:** `crm_user`
   - **Region:** –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, Frankfurt)
   - **PostgreSQL Version:** 15
   - **Plan:** **Free** (512 MB RAM)
3. –ù–∞–∂–º–∏—Ç–µ **"Create Database"**
4. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Internal Database URL**
   - –§–æ—Ä–º–∞—Ç: `postgresql://crm_user:password@dpg-xxxxx-a/crm_db`
   - –û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Blueprint

1. –í Dashboard –Ω–∞–∂–º–∏—Ç–µ **"New +"** ‚Üí **"Blueprint"**
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É `main`
4. Render –æ–±–Ω–∞—Ä—É–∂–∏—Ç `render.yaml` –∏ —Å–æ–∑–¥–∞—Å—Ç:
   - ‚úÖ Backend API
   - ‚úÖ Frontend

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ:

#### Backend —Å–µ—Ä–≤–∏—Å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Backend** —Å–µ—Ä–≤–∏—Å –≤ Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Environment"**
3. –î–æ–±–∞–≤—å—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ:
   ```
   DATABASE_URL=postgresql://crm_user:password@dpg-xxxxx-a/crm_db
   ```
   (–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Internal Database URL –∏–∑ —à–∞–≥–∞ 1)

4. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL frontend, –æ–±–Ω–æ–≤–∏—Ç–µ:
   ```
   CORS_ORIGIN=https://crm-frontend-xxxx.onrender.com
   ```

#### Frontend —Å–µ—Ä–≤–∏—Å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Frontend** —Å–µ—Ä–≤–∏—Å –≤ Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Environment"**
3. –î–æ–±–∞–≤—å—Ç–µ:
   ```
   VITE_API_URL=https://crm-backend-xxxx.onrender.com/api
   ```
   (–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL –≤–∞—à–µ–≥–æ backend —Å–µ—Ä–≤–∏—Å–∞)

### –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Backend** —Å–µ—Ä–≤–∏—Å
2. –ù–∞–∂–º–∏—Ç–µ **"Shell"** (–≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
   ```bash
   cd backend
   npm run seed:roles
   ```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Webhook'–∏

- **WhatsApp:** https://console.green-api.com/instanceList
  - Webhook URL: `https://crm-backend-xxxx.onrender.com/api/whatsapp/webhook`
  
- **Instagram:** https://chatrace.com/en/settings?acc=1543616
  - Webhook URL: `https://crm-backend-xxxx.onrender.com/api/instagram/webhook`

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ **https://crm-frontend-xxxx.onrender.com**

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ Blueprint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–ï—Å–ª–∏ Blueprint –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é:

### Backend:
1. "New +" ‚Üí "Web Service"
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Root Directory:** `backend`
   - **Build Command:** `npm install && npm run build`
   - **Start Command:** `npm run start:prod`
4. –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. –≤—ã—à–µ)

### Frontend:
1. "New +" ‚Üí "Static Site"
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Root Directory:** `frontend`
   - **Build Command:** `npm install && npm run build`
   - **Publish Directory:** `dist`
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_URL`

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å:

1. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Render:**
   - –°–µ—Ä–≤–∏—Å—ã "–∑–∞—Å—ã–ø–∞—é—Ç" –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ "—Å–Ω–∞" –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-60 —Å–µ–∫—É–Ω–¥

2. **Internal Database URL:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Internal Database URL**, –∞ –Ω–µ External
   - –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Render —Å–µ—Ç–∏
   - –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ frontend URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —á–∞—Ç–æ–≤

